(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"3dVZ":function(e,t,n){e.exports={"ant-collapse":"ant-collapse","ant-collapse-item":"ant-collapse-item","ant-collapse-header":"ant-collapse-header","ant-collapse-arrow":"ant-collapse-arrow","ant-collapse-arrow-icon":"ant-collapse-arrow-icon","ant-collapse-extra":"ant-collapse-extra","ant-collapse-no-arrow":"ant-collapse-no-arrow","ant-collapse-icon-position-right":"ant-collapse-icon-position-right","ant-collapse-anim-active":"ant-collapse-anim-active","ant-collapse-content":"ant-collapse-content","ant-collapse-content-box":"ant-collapse-content-box","ant-collapse-content-inactive":"ant-collapse-content-inactive","ant-collapse-borderless":"ant-collapse-borderless","ant-collapse-item-disabled":"ant-collapse-item-disabled",arrow:"arrow","ant-collapse-rtl":"ant-collapse-rtl"}},BfgG:function(e,t,n){e.exports={spanAdd:"antd-pro-pages-account-settings-components-base-view-spanAdd",updateBtn:"antd-pro-pages-account-settings-components-base-view-updateBtn",baseView:"antd-pro-pages-account-settings-components-base-view-baseView",left:"antd-pro-pages-account-settings-components-base-view-left",right:"antd-pro-pages-account-settings-components-base-view-right",avatar_title:"antd-pro-pages-account-settings-components-base-view-avatar_title",avatar:"antd-pro-pages-account-settings-components-base-view-avatar",button_view:"antd-pro-pages-account-settings-components-base-view-button_view"}},dFKQ:function(e,t,n){e.exports={main:"antd-pro-pages-account-settings-style-main",leftMenu:"antd-pro-pages-account-settings-style-leftMenu",right:"antd-pro-pages-account-settings-style-right",title:"antd-pro-pages-account-settings-style-title"}},mzst:function(e,t,n){"use strict";n.r(t);var a=n("fWQN"),r=n("mtLc"),o=n("Nsem"),c=n("oZsa"),i=n("yKVA"),s=(n("lUTK"),n("BvKs")),l=n("q1tI"),u=n.n(l),p=n("9kvl"),f=n("Hx5s"),d=(n("5NDa"),n("5rEg")),m=n("jrin"),h=(n("DZo9"),n("8z0m")),y=(n("+L6B"),n("2/Rp")),v=n("WmNS"),b=n.n(v),g=n("9og8"),w=(n("miYZ"),n("tsqr")),O=(n("cIOH"),n("3dVZ"),n("17x9")),E=n.n(O),j=n("TSYQ"),P=n.n(j),x=n("Gytx"),C=n.n(x),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=function(e){function t(){return A(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),k(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.forceRender||!C()(this.props,e)}},{key:"render",value:function(){var e;if(this._isActived=this.props.forceRender||this._isActived||this.props.isActive,!this._isActived)return null;var t=this.props,n=t.prefixCls,a=t.isActive,r=t.children,o=t.destroyInactivePanel,c=t.forceRender,i=t.role,s=P()((e={},_(e,n+"-content",!0),_(e,n+"-content-active",a),_(e,n+"-content-inactive",!a),e)),l=c||a||!o?u.a.createElement("div",{className:n+"-content-box"},r):null;return u.a.createElement("div",{className:s,role:i},l)}}]),t}(l["Component"]);I.propTypes={prefixCls:E.a.string,isActive:E.a.bool,children:E.a.any,destroyInactivePanel:E.a.bool,forceRender:E.a.bool,role:E.a.string};var K=I,M=n("MFj2"),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function B(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=function(e){function t(){var e,n,a,r;U(this,t);for(var o=arguments.length,c=Array(o),i=0;i<o;i++)c[i]=arguments[i];return a=V(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n=a,a.handleItemClick=function(){var e=a.props,t=e.onItemClick,n=e.panelKey;"function"===typeof t&&t(n)},a.handleKeyPress=function(e){"Enter"!==e.key&&13!==e.keyCode&&13!==e.which||a.handleItemClick()},r=n,V(a,r)}return B(t,e),S(t,[{key:"shouldComponentUpdate",value:function(e){return!C()(this.props,e)}},{key:"render",value:function(){var e,t=this.props,n=t.className,a=t.id,r=t.style,o=t.prefixCls,c=t.header,i=t.headerClass,s=t.children,l=t.isActive,p=t.showArrow,f=t.destroyInactivePanel,d=t.disabled,m=t.accordion,h=t.forceRender,y=t.expandIcon,v=t.extra,b=P()(o+"-header",T({},i,i)),g=P()((e={},T(e,o+"-item",!0),T(e,o+"-item-active",l),T(e,o+"-item-disabled",d),e),n),w=u.a.createElement("i",{className:"arrow"});return p&&"function"===typeof y&&(w=y(this.props)),u.a.createElement("div",{className:g,style:r,id:a},u.a.createElement("div",{className:b,onClick:this.handleItemClick,role:m?"tab":"button",tabIndex:d?-1:0,"aria-expanded":""+l,onKeyPress:this.handleKeyPress},p&&w,c,v&&u.a.createElement("div",{className:o+"-extra"},v)),u.a.createElement(M["a"],{showProp:"isActive",exclusive:!0,component:"",animation:this.props.openAnimation},u.a.createElement(K,{prefixCls:o,isActive:l,destroyInactivePanel:f,forceRender:h,role:m?"tabpanel":null},s)))}}]),t}(l["Component"]);D.propTypes={className:E.a.oneOfType([E.a.string,E.a.object]),id:E.a.string,children:E.a.any,openAnimation:E.a.object,prefixCls:E.a.string,header:E.a.oneOfType([E.a.string,E.a.number,E.a.node]),headerClass:E.a.string,showArrow:E.a.bool,isActive:E.a.bool,onItemClick:E.a.func,style:E.a.object,destroyInactivePanel:E.a.bool,disabled:E.a.bool,accordion:E.a.bool,forceRender:E.a.bool,expandIcon:E.a.func,extra:E.a.node,panelKey:E.a.any},D.defaultProps={showArrow:!0,isActive:!1,destroyInactivePanel:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var z=D,F=n("J9Du");function q(e,t,n,a){var r=void 0;return Object(F["a"])(e,n,{start:function(){t?(r=e.offsetHeight,e.style.height=0):e.style.height=e.offsetHeight+"px"},active:function(){e.style.height=(t?r:0)+"px"},end:function(){e.style.height="",a()}})}function H(e){return{enter:function(t,n){return q(t,!0,e+"-anim",n)},leave:function(t,n){return q(t,!1,e+"-anim",n)}}}var L=H,Q=n("TOwV"),W=n("VCL8"),Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function G(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function $(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ee(e){var t=e;return Array.isArray(t)||(t=t?[t]:[]),t.map((function(e){return String(e)}))}var te=function(e){function t(e){Y(this,t);var n=X(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ne.call(n);var a=e.activeKey,r=e.defaultActiveKey,o=r;return"activeKey"in e&&(o=a),n.state={openAnimation:e.openAnimation||L(e.prefixCls),activeKey:ee(o)},n}return $(t,e),Z(t,[{key:"shouldComponentUpdate",value:function(e,t){return!C()(this.props,e)||!C()(this.state,t)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,a=t.className,r=t.style,o=t.accordion,c=P()((e={},J(e,n,!0),J(e,a,!!a),e));return u.a.createElement("div",{className:c,style:r,role:o?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"activeKey"in e&&(t.activeKey=ee(e.activeKey)),"openAnimation"in e&&(t.openAnimation=e.openAnimation),t.activeKey||t.openAnimation?t:null}}]),t}(l["Component"]),ne=function(){var e=this;this.onClickItem=function(t){var n=e.state.activeKey;if(e.props.accordion)n=n[0]===t?[]:[t];else{n=[].concat(G(n));var a=n.indexOf(t),r=a>-1;r?n.splice(a,1):n.push(t)}e.setActiveKey(n)},this.getNewChild=function(t,n){if(!t)return null;var a=e.state.activeKey,r=e.props,o=r.prefixCls,c=r.accordion,i=r.destroyInactivePanel,s=r.expandIcon,l=t.key||String(n),p=t.props,f=p.header,d=p.headerClass,m=p.disabled,h=!1;h=c?a[0]===l:a.indexOf(l)>-1;var y={key:l,panelKey:l,header:f,headerClass:d,isActive:h,prefixCls:o,destroyInactivePanel:i,openAnimation:e.state.openAnimation,accordion:c,children:t.props.children,onItemClick:m?null:e.onClickItem,expandIcon:s};return"string"===typeof t.type?t:u.a.cloneElement(t,y)},this.getItems=function(){var t=e.props.children,n=Object(Q["isFragment"])(t)?t.props.children:t,a=l["Children"].map(n,e.getNewChild);return Object(Q["isFragment"])(t)?u.a.createElement(u.a.Fragment,null,a):a},this.setActiveKey=function(t){"activeKey"in e.props||e.setState({activeKey:t}),e.props.onChange(e.props.accordion?t[0]:t)}};te.propTypes={children:E.a.any,prefixCls:E.a.string,activeKey:E.a.oneOfType([E.a.string,E.a.number,E.a.arrayOf(E.a.oneOfType([E.a.string,E.a.number]))]),defaultActiveKey:E.a.oneOfType([E.a.string,E.a.number,E.a.arrayOf(E.a.oneOfType([E.a.string,E.a.number]))]),openAnimation:E.a.object,onChange:E.a.func,accordion:E.a.bool,className:E.a.string,style:E.a.object,destroyInactivePanel:E.a.bool,expandIcon:E.a.func},te.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},te.Panel=z,Object(W["a"])(te);var ae=te,re=ae,oe=(ae.Panel,n("nyS3")),ce=n.n(oe),ie=n("H84U");function se(e){return se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function le(){return le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},le.apply(this,arguments)}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function de(e,t,n){return t&&fe(e.prototype,t),n&&fe(e,n),e}function me(e){return function(){var t,n=be(e);if(ve()){var a=be(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return he(this,t)}}function he(e,t){return!t||"object"!==se(t)&&"function"!==typeof t?ye(e):t}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function ge(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}function we(e,t){return we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},we(e,t)}var Oe=function(e){ge(n,e);var t=me(n);function n(){var e;return pe(this,n),e=t.apply(this,arguments),e.renderCollapsePanel=function(t){var n=t.getPrefixCls,a=e.props,r=a.prefixCls,o=a.className,c=void 0===o?"":o,i=a.showArrow,s=void 0===i||i,u=n("collapse",r),p=P()(ue({},"".concat(u,"-no-arrow"),!s),c);return l["createElement"](re.Panel,le({},e.props,{prefixCls:u,className:p}))},e}return de(n,[{key:"render",value:function(){return l["createElement"](ie["a"],null,this.renderCollapsePanel)}}]),n}(l["Component"]),Ee=n("xEkU"),je=n.n(Ee);function Pe(e,t,n){var a,r;return Object(F["a"])(e,"ant-motion-collapse-legacy",{start:function(){t?(a=e.offsetHeight,e.style.height="0px",e.style.opacity="0"):(e.style.height="".concat(e.offsetHeight,"px"),e.style.opacity="1")},active:function(){r&&je.a.cancel(r),r=je()((function(){e.style.height="".concat(t?a:0,"px"),e.style.opacity=t?"1":"0"}))},end:function(){r&&je.a.cancel(r),e.style.height="",e.style.opacity="",n()}})}var xe={enter:function(e,t){return Pe(e,!0,t)},leave:function(e,t){return Pe(e,!1,t)},appear:function(e,t){return Pe(e,!0,t)}},Ce=xe;function ke(e){return ke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_e.apply(this,arguments)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ie(e,t,n){return t&&Ne(e.prototype,t),n&&Ne(e,n),e}function Ke(e){return function(){var t,n=Ue(e);if(Te()){var a=Ue(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Me(this,t)}}function Me(e,t){return!t||"object"!==ke(t)&&"function"!==typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ue(e){return Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ue(e)}function Ve(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}function Be(e,t){return Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Be(e,t)}var De=function(e){Ve(n,e);var t=Ke(n);function n(){var e;return Re(this,n),e=t.apply(this,arguments),e.renderExpandIcon=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=e.props.expandIcon,r=a?a(t):l["createElement"](ce.a,{rotate:t.isActive?90:void 0});return l["isValidElement"](r)?l["cloneElement"](r,{className:P()(r.props.className,"".concat(n,"-arrow"))}):r},e.renderCollapse=function(t){var n,a=t.getPrefixCls,r=t.direction,o=e.props,c=o.prefixCls,i=o.className,s=void 0===i?"":i,u=o.bordered,p=o.expandIconPosition,f=a("collapse",c),d=P()((n={},Ae(n,"".concat(f,"-borderless"),!u),Ae(n,"".concat(f,"-icon-position-").concat(p),!0),Ae(n,"".concat(f,"-rtl"),"rtl"===r),n),s),m=_e(_e({},Ce),{appear:function(){}});return l["createElement"](re,_e({openAnimation:m},e.props,{expandIcon:function(t){return e.renderExpandIcon(t,f)},prefixCls:f,className:d}))},e}return Ie(n,[{key:"render",value:function(){return l["createElement"](ie["a"],null,this.renderCollapse)}}]),n}(l["Component"]);De.Panel=Oe,De.defaultProps={bordered:!0,expandIconPosition:"left"};var ze=De,Fe=(n("y8nQ"),n("Vl3Y")),qe={name:"upload",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]}},He=qe,Le=n("6VBw"),Qe=function(e,t){return u.a.createElement(Le["a"],Object.assign({},e,{ref:t,icon:He}))};Qe.displayName="UploadOutlined";var We=u.a.forwardRef(Qe),Ze=n("n3MZ"),Ge=n.n(Ze),Je=function(e){var t=e.value,n=e.onChange,a=["",""];return t&&(a=t.split("-")),u.a.createElement(u.a.Fragment,null,u.a.createElement(d["a"],{className:Ge.a.area_code,value:a[0],onChange:function(e){n&&n("".concat(e.target.value,"-").concat(a[1]))}}),u.a.createElement(d["a"],{className:Ge.a.phone_number,onChange:function(e){n&&n("".concat(a[0],"-").concat(e.target.value))},value:a[1]}))},Ye=Je,Xe=n("BfgG"),$e=n.n(Xe),et=n("wqQd"),tt=n("EQW2");function nt(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(c["a"])(e);if(t()){var r=Object(c["a"])(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(o["a"])(this,n)}}var at=Fe["a"].Item,rt=ze.Panel;function ot(e){var t=e.size/1024/1024<2;return t||w["a"].error("Image must smaller than 2MB!"),t}var ct=function(e,t,n){var a=t.split("-");a[0]||n("Please input your area code!"),a[1]||n("Please input your phone number!"),n()},it=function(e){Object(i["a"])(n,e);var t=nt(n);function n(e){var r;return Object(a["a"])(this,n),r=t.call(this,e),r.view=void 0,r.state=void 0,r.formRef=u.a.createRef(),r.setBaseInfo=function(){var e=r.props.currentUser,t=r.formRef.current;e&&t&&Object.keys(t.getFieldsValue()).forEach((function(n){var a={};a[n]=e[n]||null,t.setFieldsValue(a)}))},r.getViewDom=function(e){r.view=e},r.handlerSubmit=function(){var e=Object(g["a"])(b.a.mark((function e(t){var n,a,o,c,i;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=r.props.intl,a=r.formRef.current,o=r.props.dispatch,a){e.next=6;break}return e.abrupt("return");case 6:return c=a.getFieldsValue(),o({type:"user/saveCurrentUser",payload:Object.assign(r.props.currentUser,c)}),e.next=10,Object(et["e"])(c);case 10:i=e.sent,"ok"===i.errmsg&&w["a"].success(n.formatMessage({id:"accountsettings.basic.update.success"}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.AvatarView=function(e){return u.a.createElement(l["Fragment"],null,u.a.createElement("div",{className:$e.a.avatar_title},u.a.createElement(p["a"],{id:"accountsettings.basic.avatar",defaultMessage:"Avatar"})),u.a.createElement("div",{className:$e.a.avatar},u.a.createElement("img",{src:e,alt:"avatar"})),u.a.createElement(h["a"],{onChange:r.handelUpload,beforeUpload:ot,showUploadList:!1},u.a.createElement("div",{className:$e.a.button_view},u.a.createElement(y["a"],null,u.a.createElement(We,null),u.a.createElement(p["a"],{id:"accountsettings.basic.change-avatar",defaultMessage:"Change avatar"})))))},r.handelUpload=function(){var e=Object(g["a"])(b.a.mark((function e(t){var n,a,o,c;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("uploading"!==t.file.status){e.next=2;break}return e.abrupt("return");case 2:if("done"!==t.file.status){e.next=16;break}if(t.file.originFileObj){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Object(tt["a"])(t.file.originFileObj);case 7:return n=e.sent,e.next=10,Object(et["c"])({base64:n});case 10:return a=e.sent,o=a.file_list[0].download_url,c=Object.assign(r.props.currentUser,{avatar:o}),r.props.dispatch({type:"user/saveCurrentUser",payload:c}),e.next=16,Object(et["e"])(c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.uploadPass=Object(g["a"])(b.a.mark((function e(){var t,n,a,o,c;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.state,n=t.newPass1,a=t.newPass2,o=t.oldPass,n===a){e.next=5;break}w["a"].warn("\u8f93\u5165\u7684\u65b0\u5bc6\u7801\u5fc5\u987b\u4e00\u81f4\uff01"),e.next=9;break;case 5:return e.next=7,Object(et["d"])({oldPass:o,newPass:n});case 7:c=e.sent,"ok"===c.errmsg?w["a"].success("\u6539\u5bc6\u6210\u529f"):w["a"].error("\u6539\u5bc6\u5931\u8d25");case 9:case"end":return e.stop()}}),e)}))),r.state={oldPass:"",newPass1:"",newPass2:""},r}return Object(r["a"])(n,[{key:"componentDidMount",value:function(){this.setBaseInfo()}},{key:"getAvatarURL",value:function(){var e=this.props.currentUser;if(e){if(e.avatar)return e.avatar;var t="https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png";return t}return""}},{key:"changePass",value:function(e,t){this.setState(Object(m["a"])({},e,t.target.value))}},{key:"render",value:function(){var e=this,t=this.props.intl;return u.a.createElement("div",{className:$e.a.baseView,ref:this.getViewDom},u.a.createElement("div",{className:$e.a.left},u.a.createElement(Fe["a"],{ref:this.formRef,layout:"vertical",hideRequiredMark:!0},u.a.createElement(at,{name:"email",label:t.formatMessage({id:"accountsettings.basic.email"}),rules:[{required:!0,message:t.formatMessage({id:"accountsettings.basic.email-message"},{})}]},u.a.createElement(d["a"],null)),u.a.createElement(at,{name:"showName",label:t.formatMessage({id:"accountsettings.basic.nickname"}),rules:[{required:!0,message:t.formatMessage({id:"accountsettings.basic.nickname-message"},{})}]},u.a.createElement(d["a"],null)),u.a.createElement(at,{name:"userInfo",label:t.formatMessage({id:"accountsettings.basic.profile"}),rules:[{required:!0,message:t.formatMessage({id:"accountsettings.basic.profile-message"},{})}]},u.a.createElement(d["a"].TextArea,{placeholder:t.formatMessage({id:"accountsettings.basic.profile-placeholder"}),rows:4})),u.a.createElement(at,{name:"phone",label:t.formatMessage({id:"accountsettings.basic.phone"}),rules:[{required:!0,message:t.formatMessage({id:"accountsettings.basic.phone-message"},{})},{validator:ct}]},u.a.createElement(Ye,null)),u.a.createElement(ze,null,u.a.createElement(rt,{header:"\u4fee\u6539\u5bc6\u7801",key:"1"},u.a.createElement(d["a"].Password,{addonBefore:u.a.createElement("span",{className:$e.a.spanAdd},"original password"),onChange:function(t){return e.changePass("oldPass",t)},placeholder:"Enter old password",style:{marginTop:".2rem"}}),u.a.createElement(d["a"].Password,{addonBefore:u.a.createElement("span",{className:$e.a.spanAdd},"new password"),placeholder:"Enter new password",onChange:function(t){return e.changePass("newPass1",t)}}),u.a.createElement(d["a"].Password,{addonBefore:u.a.createElement("span",{className:$e.a.spanAdd},"confirm password"),placeholder:"Enter new password again",onChange:function(t){return e.changePass("newPass2",t)}}),u.a.createElement(y["a"],{type:"primary",onClick:this.uploadPass},"\u4fee\u6539\u5bc6\u7801"))),u.a.createElement(y["a"],{className:$e.a.updateBtn,type:"primary",onClick:this.handlerSubmit},u.a.createElement(p["a"],{id:"accountsettings.basic.update",defaultMessage:"Update Information"})))),u.a.createElement("div",{className:$e.a.right},this.AvatarView(this.getAvatarURL())))}}]),n}(l["Component"]),st=Object(p["b"])((function(e){var t,n=e.user,a=e.login;return{currentUser:n.currentUser,avatar:null===(t=n.currentUser)||void 0===t?void 0:t.avatar,accessToken:a.accessToken}}))(Object(p["f"])(it)),lt=n("dFKQ"),ut=n.n(lt);function pt(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(c["a"])(e);if(t()){var r=Object(c["a"])(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(o["a"])(this,n)}}var ft=s["a"].Item,dt=function(e){Object(i["a"])(n,e);var t=pt(n);function n(e){var r;Object(a["a"])(this,n),r=t.call(this,e),r.main=void 0,r.getMenu=function(){var e=r.state.menuMap;return Object.keys(e).map((function(t){return u.a.createElement(ft,{key:t},e[t])}))},r.getRightTitle=function(){var e=r.state,t=e.selectKey,n=e.menuMap;return n[t]},r.selectKey=function(e){r.setState({selectKey:e})},r.resize=function(){r.main&&requestAnimationFrame((function(){if(r.main){var e="inline",t=r.main.offsetWidth;r.main.offsetWidth<641&&t>400&&(e="horizontal"),window.innerWidth<768&&t>400&&(e="horizontal"),r.setState({mode:e})}}))},r.renderChildren=function(){var e=r.state.selectKey;switch(e){case"base":return u.a.createElement(st,null);default:break}return null};var o={base:u.a.createElement(p["a"],{id:"accountsettings.menuMap.basic",defaultMessage:"Basic Settings"})};return r.state={mode:"inline",menuMap:o,selectKey:"base"},r}return Object(r["a"])(n,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"user/fetchCurrent"}),window.addEventListener("resize",this.resize),this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var e=this,t=this.props.currentUser;if(!t.showName)return"";var n=this.state,a=n.mode,r=n.selectKey;return u.a.createElement(f["b"],null,u.a.createElement("div",{className:ut.a.main,ref:function(t){t&&(e.main=t)}},u.a.createElement("div",{className:ut.a.leftMenu},u.a.createElement(s["a"],{mode:a,selectedKeys:[r],onClick:function(t){var n=t.key;return e.selectKey(n)}},this.getMenu())),u.a.createElement("div",{className:ut.a.right},u.a.createElement("div",{className:ut.a.title},this.getRightTitle()),this.renderChildren())))}}]),n}(l["Component"]);t["default"]=Object(p["b"])((function(e){var t=e.user,n=e.login;return{currentUser:t.currentUser,accessToken:n.accessToken}}))(dt)},n3MZ:function(e,t,n){e.exports={area_code:"antd-pro-pages-account-settings-components-phone-view-area_code",phone_number:"antd-pro-pages-account-settings-components-phone-view-phone_number"}}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{Djrm:function(e,t,a){e.exports={detail:"antd-pro-pages-table-basic-index-detail",say:"antd-pro-pages-table-basic-index-say",action:"antd-pro-pages-table-basic-index-action"}},RyC9:function(e,t,a){"use strict";a.r(t);a("IzEo");var n=a("bx4M"),r=a("q1tI"),c=a.n(r),i=a("Hx5s"),u=(a("g9YV"),a("wCAj")),s=(a("Telt"),a("Tckk")),o=(a("/zsF"),a("PArb")),l=(a("+BJd"),a("mr32")),d=a("WmNS"),p=a.n(d),m=a("9og8"),f=a("tJVT"),y=a("oBTY"),b=a("Djrm"),v=a.n(b),k=a("/MKj"),x=a("rieg");function w(e){return g.apply(this,arguments)}function g(){return g=Object(m["a"])(p.a.mark((function e(t){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(x["c"])("updateStatus",t));case 1:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function E(e){return j.apply(this,arguments)}function j(){return j=Object(m["a"])(p.a.mark((function e(t){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(x["c"])("getInterviewerList",t));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}var h=a("dWVB"),O={0:"\u672a\u77e5",1:"\u7537",2:"\u5973"},S=function(e){var t=e.currentUser,a=e.accessToken;function n(e,t){var a={init:function(){return t.list},changeStatus:function(){var a=t.index,n=e[a];return n.status=t.newAct||"accept",[].concat(Object(y["a"])(e.slice(0,a)),[n],Object(y["a"])(e.slice(a+1)))}};return a[t.type]()}var i=Object(r["useReducer"])(n,[]),d=Object(f["a"])(i,2),b=d[0],k=d[1],x=function(e,t){w({_id:b[e]._id,status:t}),k({type:"changeStatus",index:e,newAct:t})};Object(r["useEffect"])((function(){var e=function(){var e=Object(m["a"])(p.a.mark((function e(){var n,r;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,E({name:t.name||"",token:a});case 2:n=e.sent,r=n.data.map((function(e){return JSON.parse(e)})).map((function(e,t){var a=e.formData,n=e.userInfo,r=e.status,c=e._id,i=n||{},u=i.nickName,s=i.gender,o=i.avatarUrl,l=a.mobile,d=a.date,p=void 0===d?"111":d,m=a.time,f=void 0===m?"222":m,y=a.saySome,b=void 0===y?"lalala":y;return{name:u,gender:s,tel:l,time:"".concat(p," ").concat(f),avatar:o,saySome:b,status:r,key:t,_id:c}})),k({type:"init",index:0,list:r});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var g=[{title:"\u6635\u79f0",dataIndex:"name",key:"name",render:function(e){return c.a.createElement(h["a"],{text:e,className:v.a.action})}},{title:"\u6027\u522b",dataIndex:"gender",key:"gender",render:function(e){return O[e]}},{title:"\u7535\u8bdd",dataIndex:"tel",key:"tel"},{title:"\u9884\u7ea6\u65f6\u6bb5",key:"time",dataIndex:"time"},{title:"\u72b6\u6001",key:"status",render:function(e){var t={apply:"geekblue",accept:"green",deny:"gray"};return c.a.createElement("span",null,c.a.createElement(l["a"],{color:t[e.status],key:e.key},e.status))}},{title:"\u64cd\u4f5c",key:"action",render:function(e){return c.a.createElement("span",null,c.a.createElement(h["a"],{text:"\u63a5\u53d7\u9884\u7ea6",onClick:function(){return x(e.key,"accept")}}),c.a.createElement(o["a"],{type:"vertical"}),c.a.createElement(h["a"],{text:"\u9a73\u56de",onClick:function(){return x(e.key,"deny")}}))}}];return c.a.createElement("div",{className:v.a.container},c.a.createElement("div",{id:"components-table-demo-basic"},c.a.createElement(u["a"],{columns:g,expandedRowRender:function(e){return c.a.createElement("div",{className:v.a.detail},c.a.createElement(s["a"],{src:e.avatar}),c.a.createElement("p",{className:v.a.say},"\u6211\u60f3\u5bf9\u4f60\u8bf4: ",e.saySome))},dataSource:b})))},I=Object(k["c"])((function(e){var t=e.user,a=e.login;return{currentUser:t.currentUser,accessToken:a.accessToken}}))(S);t["default"]=function(){return c.a.createElement(i["c"],null,c.a.createElement(n["a"],null,c.a.createElement(I,null)),c.a.createElement("p",{style:{textAlign:"center",marginTop:24}}))}}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0jlH":function(e,t,n){"use strict";var r=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("d6i3")),a=r(n("1l/V")),u=r(n("2Taf")),i=r(n("vZ4D")),c=r(n("l4Ni")),f=r(n("ujKo")),l=r(n("MhPg")),s=r(n("q1tI")),d=n("Hg0r"),p=n("Hx5s"),y=n("ArA+"),g=n("s4NR"),b=function(e){function t(){var e;return(0,u.default)(this,t),e=(0,c.default)(this,(0,f.default)(t).apply(this,arguments)),e.state={isReady:!1},e}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=(0,a.default)(o.default.mark(function e(){var t,n,r,a;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.setState({isReady:!0}),t=this.props,n=t.dispatch,r=t.accessToken,a=t.name,n&&(n({type:"login/getTokenFromLocalStorage"}),n({type:"user/fetchCurrent",payload:{name:a||localStorage.getItem("name"),token:r||localStorage.getItem("tk")}}));case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this.state.isReady,t=this.props,n=t.children,r=t.loading,o=t.currentUser,a=o&&o.name,u=(0,g.stringify)({redirect:window.location.href});return!a&&r||!e?s.default.createElement(p.PageLoading,null):a?n:s.default.createElement(y.Redirect,{to:"/user/login?".concat(u)})}}]),t}(s.default.Component),m=(0,d.connect)(function(e){var t=e.user,n=e.loading,r=e.login;return{currentUser:t.currentUser,loading:n.models.user,accessToken:r.accessToken,name:r.name}})(b);t.default=m},"ArA+":function(e,t,n){"use strict";n.r(t),n.d(t,"dynamic",function(){return m}),n.d(t,"router",function(){return j});var r=n("55Ip");n.d(t,"Link",function(){return r["Link"]}),n.d(t,"NavLink",function(){return r["NavLink"]});var o=n("CxXe");n.d(t,"Redirect",function(){return o["c"]}),n.d(t,"Route",function(){return o["d"]}),n.d(t,"withRouter",function(){return o["o"]});var a=n("q1tI"),u=n.n(a),i=n("CnBM"),c=n.n(i),f=n("RFCh"),l=n.n(f),s=n("o2JA");for(var d in s)["Link","NavLink","Redirect","Route","dynamic","router","withRouter","default"].indexOf(d)<0&&function(e){n.d(t,e,function(){return s[e]})}(d);function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){var n=c.a,r={loading:function(e){e.error,e.isLoading;return u.a.createElement("p",null,"loading...")}};if("function"===typeof e.then?r.loader=function(){return e}:"object"===p(e)&&(r=b({},r,{},e)),r=b({},r,{},t),e.render&&(r.render=function(t,n){return e.render(n,t)}),e.modules){n=c.a.Map;var o={},a=e.modules();Object.keys(a).forEach(function(e){var t=a[e];"function"!==typeof t.then?o[e]=t:o[e]=function(){return t.then(function(e){return e.default||e})}}),r.loader=o}return n(r)}function h(){l.a.push.apply(l.a,arguments)}function v(){l.a.replace.apply(l.a,arguments)}function w(){l.a.go.apply(l.a,arguments)}function k(){l.a.goBack.apply(l.a,arguments)}function O(){l.a.goForward.apply(l.a,arguments)}var j={push:h,replace:v,go:w,goBack:k,goForward:O}},o2JA:function(e,t,n){"use strict"}}]);